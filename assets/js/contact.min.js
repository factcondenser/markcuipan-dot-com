$(function(){$("#gform").validator(),$("#gform").on("submit",function(e){if(!e.isDefaultPrevented()){var t=function(){var e=document.getElementById("gform"),t=e.elements,n=Object.keys(t).map(function(e){return void 0!==t[e].name?t[e].name:t[e].length>0?t[e].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),a={};return n.forEach(function(e){a[e]=t[e].value;var n="";if("checkbox"===t[e].type)n=n+t[e].checked+", ",a[e]=n.slice(0,-2);else if(t[e].length)for(var s=0;s<t[e].length;s++)t[e].item(s).checked&&(n=n+t[e].item(s).value+", ",a[e]=n.slice(0,-2))}),a.formDataNameOrder=JSON.stringify(n),a.formGoogleSheetName=e.dataset.sheet||"responses",a.formGoogleSendEmail=e.dataset.email||"",console.log(a),a}(),n=e.target.action,a=(new XMLHttpRequest,Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"));return $.ajax({type:"POST",url:n,data:a,success:function(e){$("#gform").find(".messages").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" style="display: inline;">&times;</button>Contact form successfully submitted.<br>I will get back to you soon - thanks!</div>'),$("#gform")[0].reset()},error:function(e){$("#gform").find(".messages").html('<div class="alert aler-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" style="display: inline;">&times;</button>There was an error while submitting the form.<br>Please try again later.</div>'),$("#gform")[0].reset()}}),!1}})});
